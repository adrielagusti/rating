<mvc:View
    controllerName="blackseeds.ratings.controller.Rating"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    displayBlock="true"
    xmlns="sap.m"
>
    <App id="app">
        <Page
            showHeader="false"
            class="sapUiContentPadding"
        >
            <subHeader>
                <Toolbar>
                          <Select
                                selectedKey="{loggedUser>/GUID}"
                                items="{/Users}"
                                forceSelection="true"
                                change="onUserChange"
                                enabled="false"
                            >
                                <core:Item
                                    key="{GUID}"
                                    text="{name}"
                                />
                            </Select>
                    <ToolbarSpacer />
                    <Title text="({tagID}) {name}" />
                </Toolbar>
            </subHeader>
            <content>
                <VBox
                    id="vbox-atts"
                    items="{dataModel>/ratings}"
                >
                    <Panel
                        width="auto"
                        class="sapUiResponsiveMargin"
                    >
                        <headerToolbar>
                            <OverflowToolbar>
                                <Title text="{dataModel>attributeDescription}" />
                                <ToolbarSpacer />
                            </OverflowToolbar>
                        </headerToolbar>
                        <content>
                            <FlexBox>
                                <RatingIndicator
                                    maxValue="5"
                                    value="{dataModel>value}"
                                />
                                 <Label text="{dataModel>value} / 5" class="sapUiSmallMarginBeginEnd sapUiTinyMarginTop" />
                                <Input value="{dataModel>comments}"  />
                            </FlexBox>
                        </content>
                    </Panel>
                </VBox>
            </content>
            <footer>
                <Toolbar>
                    <Button
                        text="Cancel"
                        press="onBroBack"
                    />
                    <ToolbarSpacer />
                    <!-- <Button
                        text="Reset"
                        press="onBroReset"
                    />
                    <ToolbarSpacer /> -->
                    <Button
                        text="Save"
                        press="onBroSave"
                    />
                </Toolbar>
            </footer>
        </Page>
    </App>
</mvc:View>
