<mvc:View
    controllerName="blackseeds.ratings.controller.Specimen"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:u="sap.ui.unified"
    xmlns:c="sap.suite.ui.commons"
    displayBlock="true"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:dc="blackseeds.ratings.controls"
>
    <Page
        showHeader="false"
        class="sapUiContentPadding"
    >
        <subHeader>
            <Toolbar>
                <ToolbarSpacer />
                <Title text="{name} ({tagID})" />
                <ToolbarSpacer />
            </Toolbar>
        </subHeader>
        <content>
            <Panel class="sapUiTinyMarginBottom">
                <HBox justifyContent="SpaceBetween">
                    <Image
                        class="sapUiTinyMarginTopBottom"
                        src="./img/logo.png"
                        width="8rem"
                    />
                    <VBox>
                        <HBox justifyContent="End">
                            <ObjectStatus
                                text="{strainName}"
                                state="Success"
                                class="sapUiTinyMarginEnd"
                            />
                            <ObjectStatus
                                state="Success"
                                icon="sap-icon://e-care"
                            />
                        </HBox>
                        <HBox justifyContent="End">
                            <ObjectStatus
                                text="{
                                        'path': 'plantedDate',
                                        'type': 'sap.ui.model.type.DateTime'}"
                                class=" sapUiTinyMarginEnd sapUiTinyMarginTop"
                            />
                            <ObjectStatus
                                class="sapUiTinyMarginTop"
                                icon="sap-icon://appointment"
                            />
                        </HBox>
                        <HBox justifyContent="End">
                            <dc:DateCountDown
                                date="{plantedDate}"
                                isFuture="true"
                                criticalTimeInHours="10"
                                warningTimeInHours="15"
                                class="sapUiTinyMarginTop sapUiTinyMarginEnd"
                            />
                            <!-- <ObjectStatus
                                text="{specimenModel>/weeks} Weeks"
                                class=" sapUiTinyMarginEnd sapUiTinyMarginTop"
                            /> -->
                            <ObjectStatus
                                class="sapUiTinyMarginTop"
                                icon="sap-icon://electrocardiogram"
                                state="Success"
                            />
                        </HBox>
                        <HBox justifyContent="End">
                            <ObjectStatus
                                text="Female"
                                class="sapUiTinyMarginEnd sapUiTinyMarginTop"
                                state="Warning"
                            />
                            <ObjectStatus
                                state="Warning"
                                class="sapUiTinyMarginTop"
                                icon="sap-icon://female"
                            />
                        </HBox>
                    </VBox>
                </HBox>
            </Panel>
            <IconTabBar class="sapUiResponsiveContentPadding" tabDensityMode="Compact">
                <items>
                    <IconTabFilter
                        key="info"
                        icon="sap-icon://hint"
                    >
                        <core:Fragment fragmentName="blackseeds.ratings.view.fragments.Display" type="XML" />
                    </IconTabFilter>
                    <!-- <IconTabSeparator icon="" />
                    <IconTabSeparator icon="sap-icon://vertical-grip" /> -->
                    <IconTabFilter
                        key="notes"
                        icon="sap-icon://notes"
                    >
                        <VBox>
                            <FlexBox
                                alignContent="Center"
                                justifyContent="Center"
                            >
                                <u:Calendar
                                    id="calendar"
                                    select="handleCalendarSelect"
                                    class="sapUiTinyMarginTop"
                                    minDate="{plantedDate}"
                                    maxDate="{specimenModel>/deadDate}"
                                    legend="legend"
                                />
                                <VBox class="sapUiTinyMarginBegin">
                                <Button icon="sap-icon://notes"/>
                                </VBox>
                            </FlexBox>
                            <u:CalendarLegend id="legend" />
                        </VBox>
                    </IconTabFilter>

                    <IconTabFilter
                        key="people"
                        icon="sap-icon://timesheet"
                    >
                        <c:Timeline
                            enableDoubleSided="true"
                            groupBy="date"
                            growingThreshold="0"
                            showItemFilter="false"
                            showSearch="false"
                            sortOldestFirst="true"
                            content="{cares}"
                        >
                            <c:content>
                                <c:TimelineItem
                                    dateTime="{date}"
                                    text="{description}"
                                    userName="{careD}"
                                    icon="{icon}"
                                />
                            </c:content>
                        </c:Timeline>
                    </IconTabFilter>
                </items>
            </IconTabBar>

            <!-- <VBox
                id="vbox-atts"
                visible="false"
                items="{specimenModel>/photos}"
            >
                <Panel
                    width="100%"
                    class="sapUiResponsiveMargin"
                    expandable="true"
                >
                    <headerToolbar>
                        <OverflowToolbar>
                            <Title text="{specimenModel>daysAlive} Days" />
                        </OverflowToolbar>
                    </headerToolbar>
                    <content>
                        <Image
                            class="sapUiTinyMarginTopBottom"
                            src="{specimenModel>url}"
                            width="20rem"
                        />
                    </content>
                </Panel>
            </VBox> -->

            <!-- <Image
                        class="sapUiTinyMarginTopBottom"
                        src="https://www.johnlennon.com/wp-content/uploads/2024/05/250xNxJYMG-B-800a.jpg.pagespeed.ic.E9NGOhL7K3.webp"
                        width="15rem"
                    /> -->
        </content>
        <footer>
            <Toolbar>
                <!-- <Button
                    text="Add"
                    press="onAddSpecimen"
                /> -->
                <ToolbarSpacer />
                <Button
                    text="Back"
                    press="onBroBack"
                />
            </Toolbar>
        </footer>
    </Page>
</mvc:View>
