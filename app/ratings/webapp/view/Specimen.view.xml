<mvc:View
    controllerName="blackseeds.ratings.controller.Specimen"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:unified="sap.ui.unified"
    xmlns:c="sap.suite.ui.commons"
    displayBlock="true"
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    xmlns:dc="blackseeds.ratings.controls"
>
    <Page
        showHeader="false"
        class="sapUiContentPadding"
    >
        <subHeader>
            <Toolbar>
                <ToolbarSpacer />
                <Title text=" {i18n>form.specimen} ( #{tagID} ) " />
                <ToolbarSpacer />
            </Toolbar>
        </subHeader>
        <content>
            <Panel class="sapUiTinyMarginBottom">
                <HBox justifyContent="SpaceBetween">
                    <Image
                        class="sapUiTinyMarginTopBottom"
                        src="./img/logo.png"
                        width="5rem"
                    />
                    <VBox />

                    <VBox>
                        <!-- <HBox justifyContent="End">
                            <ObjectStatus
                                text="{strainName}"
                                state="Success"
                                class="sapUiTinyMarginEnd"
                            />
                            <ObjectStatus
                                state="Success"
                                icon="sap-icon://e-care"
                            />
                        </HBox> -->
                        <HBox justifyContent="End">
                            <ObjectStatus
                                text="{
                                        'path': 'plantedDate',
                                        'type': 'sap.ui.model.type.DateTime'}"
                                class=" sapUiTinyMarginEnd sapUiTinyMarginTop"
                            />
                            <ObjectStatus
                                class="sapUiTinyMarginTop"
                                icon="sap-icon://appointment"
                            />
                        </HBox>
                        <HBox justifyContent="End">
                           
                            <dc:DateCountDown
                                date="{plantedDate}"
                                isFuture="true"
                                criticalTimeInHours="10"
                                warningTimeInHours="15"
                                class="sapUiTinyMarginTop sapUiTinyMarginEnd"
                                visible="{= ${stateColor} !== 'None' }"
                            />
                            <ObjectStatus
                                class="sapUiTinyMarginTop sapUiTinyMarginEnd"
                                text="{stateDescription}"
                                state="{stateColor}"
                            />
                            <ObjectStatus
                                class="sapUiTinyMarginTop"
                                icon="{stateIcon}"
                                state="{stateColor}"
                            />
                        </HBox>
                        <HBox justifyContent="End">
                            <ObjectStatus
                                text="{= ${sex} === 'F' ? 'Female' : 'Male' }"
                                class="sapUiTinyMarginEnd sapUiTinyMarginTop"
                                state="Warning"
                            />
                            <ObjectStatus
                                state="Warning"
                                class="sapUiTinyMarginTop"
                                icon= "{= ${sex} === 'F' ? 'sap-icon://female' : 'sap-icon://male' }"
                            />
                        </HBox>
                    </VBox>
                </HBox>
            </Panel>
            <IconTabBar
                class="sapUiResponsiveContentPadding"
                tabDensityMode="Compact"
                expandable="false"
            >
                <items>
                      <IconTabFilter
                        key="info"
                        icon="sap-icon://hint"
                    >
                        <core:Fragment
                            fragmentName="blackseeds.ratings.view.fragments.Display"
                            type="XML"
                        />
                    </IconTabFilter>
                    <IconTabFilter
                        key="notes"
                        icon="sap-icon://notes"
                    >
                        <VBox>
                            <SinglePlanningCalendar
                                id="planing"
                                startDate="{path: 'plantedDate'}"
                                enableAppointmentsCreate="true"
                            >
                              
                                <views>
                                    <SinglePlanningCalendarMonthView
                                        key="MonthView"
                                        title="Month"
                                    />
                          
                                </views>
                            
                                <appointments>
                                    <unified:CalendarAppointment
                                        key="{ID}"
                                        type="{dayType}"
                                        icon="{icon}"
                                        startDate="{date}"
                                        endDate="{date}"
                                    />
                                </appointments>
                            </SinglePlanningCalendar>
                        </VBox>
                    </IconTabFilter>
                 
                    <IconTabFilter
                        key="people"
                        icon="sap-icon://timesheet"
                    >
                        <c:Timeline
                            enableDoubleSided="true"
                            groupBy="date"
                            growingThreshold="0"
                            showItemFilter="false"
                            showSearch="false"
                            sortOldestFirst="true"
                            content="{cares}"
                        >
                            <c:content>
                                <c:TimelineItem
                                    dateTime="{date}"
                                    text="{description}"
                                    userName="{careD}"
                                    icon="{icon}"
                                />
                            </c:content>
                        </c:Timeline>
                    </IconTabFilter>
                    <IconTabFilter
                        key="people"
                        icon="sap-icon://camera"
                    >
                        <VBox
                            items="{ 
                                path: 'photos',
                                sorter: {
                                        path: 'date'
                                    } 
                                }"
                        >
                            <Panel
                                width="100%"
                                class="sapUiResponsiveMargin"
                                expandable="true"
                            >
                                <headerToolbar>
                                    <OverflowToolbar>
                                        <Title
                                            text="{ parts: [ 
                                         { path: 'plantedDate' }, 
                                         { path: 'date' }               
                                      
                                        
                                        ], formatter: '.formatter.getDifferenceOfDays' }"
                                        />
                                        <!-- 'plantedDate','date' -->
                                    </OverflowToolbar>
                                </headerToolbar>
                                <content>
                                    <Image
                                        class="sapUiTinyMarginTopBottom"
                                        src="{publicId}"
                                        width="20rem"
                                    />
                                </content>
                            </Panel>
                        </VBox>
                        <HBox>
                        <DateTimePicker
                            value="{
                                    'path': 'dayDetailModel>/photoDate',
                                    'type': 'sap.ui.model.type.DateTime'}"
                        />
                        <Button
                            press="onTakePhoto"
                            text="{i18n>button.take}"
                            icon="sap-icon://camera"
                        />
                        </HBox>
                    </IconTabFilter>
                </items>
            </IconTabBar>

            <!-- <Image
                        class="sapUiTinyMarginTopBottom"
                        src="https://www.johnlennon.com/wp-content/uploads/2024/05/250xNxJYMG-B-800a.jpg.pagespeed.ic.E9NGOhL7K3.webp"
                        width="15rem"
                    /> -->
        </content>
        <footer>
            <Toolbar>
                <!-- <Button
                    text="Add"
                    press="onAddSpecimen"
                /> -->
                <ToolbarSpacer />
                <Button
                    text="Back"
                    press="onBroBack"
                />
            </Toolbar>
        </footer>
    </Page>
</mvc:View>
